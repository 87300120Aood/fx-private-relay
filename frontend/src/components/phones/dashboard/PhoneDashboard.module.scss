@import "~@mozilla-protocol/core/protocol/css/includes/lib";
@import "../../../styles/tokens.scss";

.dashboard-card {
  box-shadow: $box-shadow-sm;
  background-color: $color-white;
  border-radius: $border-radius-md;
  display: flex;
  flex-direction: column;
  padding: $spacing-lg 0;

  & > * {
    padding: 0 $spacing-xl;
  }

  .header-phone-number {
    @include text-body-xl;
    @include font-firefox;
    display: flex;
  }

  .phone-statistics-container {
    padding-top: $spacing-md;
    display: flex;
    flex-direction: row;
    gap: $spacing-sm;
    justify-content: space-between;
  }

  .phone-statistics {
    background: $color-light-gray-10;
    padding: $spacing-md $spacing-lg;
    text-align: center;
    border-radius: $border-radius-md;

    .phone-statistics-title {
      @include font-firefox;
      @include text-title-2xs;
      font-weight: 600;
      border-radius: $border-radius-md;
    }

    .phone-statistics-body {
      @include text-body-sm;
      margin-top: $spacing-sm;
      line-height: 120%;
    }
  }

  .copy-icon {
    padding: 0 $spacing-sm;
    opacity: 0.5;
    display: inline-block;
    color: $color-light-gray-90;
    align-self: center;
  }

  .copy-button-wrapper {
    display: flex;
    flex-direction: row;
    gap: $spacing-xs;
    align-items: center;
    justify-content: center;
    position: relative;

    .copy-button {
      align-content: center;
      justify-content: center;
      display: flex;
      appearance: none;
      border: 0;
      background-color: transparent;
      text-align: center;
      color: $color-grey-20;
      cursor: pointer;

      svg {
        width: $layout-sm;
      }

      &:hover {
        color: $color-grey-30;
      }
    }

    .copied-confirmation {
      @include text-body-sm;
      opacity: 0;
      padding: $spacing-xs $spacing-sm;
      justify-content: center;
      pointer-events: none;
      transition: opacity 2s;
      background-color: $color-violet-30;
      color: $color-white;
      border-radius: $border-radius-md;
      position: absolute;
      right: 0;
      top: 50%;
      transform: translateY(-50%);

      &.is-shown {
        pointer-events: auto;
        opacity: 1;
        // Don't fade in when appearing:
        transition: opacity 0s;
      }

      @media screen and #{$mq-sm} {
        position: static;
        transform: none;
      }
    }
  }

  .phone-controls-container {
    display: flex;
    flex-direction: row;
    margin-top: $spacing-md;
    padding: $spacing-lg;
    border-top: 1px solid $color-light-gray-20;
    border-bottom: 1px solid $color-light-gray-20;
    gap: $layout-xl;

    // & > div {
    //     width: 100%;
    // }

    .phone-controls {
      border-radius: 40px;
      border: 2px solid $color-light-gray-20;
      padding: $spacing-sm;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: $spacing-md;

      .base-button {
        border: none;
        border-radius: 20px;
        background-color: $color-light-gray-30;
        width: $layout-xl;
        padding: $spacing-sm $spacing-sm;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
      }

      .active-button {
        background-color: $color-violet-70;
        border: none;
        border-radius: 20px;
        width: $layout-xl;
        padding: $spacing-sm $spacing-sm;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
      }

      .forward-icon,
      .block-icon {
        color: $color-white;
        justify-items: center;
        align-items: center;
      }
    }
  }

  .metadata-container {
    display: flex;
    flex-direction: column;
    gap: $spacing-md;
    margin-top: $spacing-md;
    border-bottom: 1px solid $color-light-gray-20;

    &:last-child {
      border-bottom-style: none;
      padding-bottom: 0;
    }

    dl {
      flex-grow: 2;
      display: flex;
      gap: $spacing-sm;
      flex-direction: column;

      @media screen and #{$mq-md} {
        flex-direction: row;
        gap: $spacing-xl;
      }

      dt {
        @include text-body-xs;
        color: $color-dark-gray-05;
      }
    }

    @media screen and #{$mq-md} {
      flex-direction: row;

      .metadata {
        $metadataIconSize: 24px;
        background-repeat: no-repeat;
        background-position: left center;
        background-size: $metadataIconSize $metadataIconSize;
        padding-left: calc($metadataIconSize + $spacing-md);
      }

      .forward-target {
        // background-image: url("/icons/email.svg");
        background-image: url("../../../../public/icons/email.svg");
      }

      .date-created {
        background-image: url("../../../../public/icons/calendar.svg");
      }
    }
  }
}
